{"version":3,"sources":["../../../node_modules/fsevents sync","../node_modules/node-libs-browser/mock sync /^/.//.*$","webpack.config.js","../node_modules/html-webpack-plugin sync","../node_modules/uglify-js/tools sync","_services/authentication.service.js","_services/user.service.js","_helpers/auth-header.js","_helpers/handle-response.js","_helpers/history.js","_helpers/role.js","_components/PrivateRoute.jsx","HomePage/HomePage.jsx","AdminPage/AdminPage.jsx","LoginPage/LoginPage.jsx","App/App.jsx","_helpers/fake-backend.js","index.jsx","../node_modules/webpack/lib/node sync /^/.//.*$","../../../node_modules/fsevents/node_modules/node-pre-gyp/lib sync /^/.//.*$","../../../node_modules/fsevents/node_modules/node-pre-gyp/lib/util sync","../../../node_modules/fsevents/node_modules/node-pre-gyp/lib sync"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","map","webpackContext","webpackContextResolve","__webpack_require__","o","Object","HtmlWebpackPlugin","require","path","config","mode","extensions","rules","test","loader","alias","__dirname","template","historyApiFallback","JSON","stringify","apiUrl","currentUserSubject","BehaviorSubject","parse","localStorage","getItem","authenticationService","login","username","password","requestOptions","method","headers","body","fetch","then","handleResponse","user","setItem","next","logout","removeItem","currentUser","asObservable","value","userService","getAll","authHeader","getById","currentUserValue","token","Authorization","response","text","data","ok","indexOf","status","error","message","statusText","Promise","reject","history","createBrowserHistory","Role","Admin","User","PrivateRoute","Component","component","roles","rest","Route","render","props","role","Redirect","to","pathname","state","from","location","HomePage","userFromApi","this","setState","firstName","lastName","React","AdminPage","users","key","LoginPage","push","className","initialValues","validationSchema","Yup","shape","required","onSubmit","setStatus","setSubmitting","errors","touched","isSubmitting","htmlFor","name","type","disabled","src","App","isAdmin","subscribe","x","Router","Link","onClick","exact","realFetch","window","url","opts","isLoggedIn","startsWith","roleString","split","setTimeout","endsWith","params","find","match","unauthorised","urlParts","parseInt","length","configureFakeBackend","document","getElementById"],"mappings":"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","file":"static/js/main.eec32d68.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1304;","var map = {\n\t\"./buffer\": 456,\n\t\"./buffer.js\": 456,\n\t\"./console\": 457,\n\t\"./console.js\": 457,\n\t\"./dns\": 458,\n\t\"./dns.js\": 458,\n\t\"./empty\": 249,\n\t\"./empty.js\": 249,\n\t\"./net\": 459,\n\t\"./net.js\": 459,\n\t\"./process\": 460,\n\t\"./process.js\": 460,\n\t\"./punycode\": 461,\n\t\"./punycode.js\": 461,\n\t\"./tls\": 462,\n\t\"./tls.js\": 462,\n\t\"./tty\": 463,\n\t\"./tty.js\": 463\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1332;","var HtmlWebpackPlugin = require('html-webpack-plugin');\nconst path = require('path'), config = {\n    mode: 'development',\n    resolve: {\n        extensions: ['.js', '.jsx']\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.jsx?$/,\n                loader: 'babel-loader'\n            }\n        ]\n    },\n    resolve: {\n        extensions: ['.js', '.jsx'],\n        alias: {\n            '@': path.resolve(__dirname, 'src/'),\n        }\n    },\n    plugins: [new HtmlWebpackPlugin({\n        template: './public/index.html'\n    })],\n    devServer: {\n        historyApiFallback: true\n    },\n    externals: {\n        // global app config object\n        config: JSON.stringify({\n            apiUrl: 'http://localhost:4000'\n        })\n    }\n};\n\nexport default config;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1455;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1538;","import { BehaviorSubject } from 'rxjs';\n\nimport config from '../webpack.config';\nimport { handleResponse } from '../_helpers';\n\nconst currentUserSubject = new BehaviorSubject(JSON.parse(localStorage.getItem('currentUser')));\n\nexport const authenticationService = {\n    login,\n    logout,\n    currentUser: currentUserSubject.asObservable(),\n    get currentUserValue () { return currentUserSubject.value }\n};\n\nfunction login(username, password) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username, password })\n    };\n\n    return fetch(`${config.apiUrl}/users/authenticate`, requestOptions)\n        .then(handleResponse)\n        .then(user => {\n            // store user details and jwt token in local storage to keep user logged in between page refreshes\n            localStorage.setItem('currentUser', JSON.stringify(user));\n            currentUserSubject.next(user);\n\n            return user;\n        });\n}\n\nfunction logout() {\n    // remove user from local storage to log user out\n    localStorage.removeItem('currentUser');\n    currentUserSubject.next(null);\n}\n","import config from '../webpack.config';\nimport { authHeader, handleResponse } from '../_helpers';\n\nexport const userService = {\n    getAll,\n    getById\n};\n\nfunction getAll() {\n    const requestOptions = { method: 'GET', headers: authHeader() };\n    return fetch(`${config.apiUrl}/users`, requestOptions).then(handleResponse);\n}\n\nfunction getById(id) {\n    const requestOptions = { method: 'GET', headers: authHeader() };\n    return fetch(`${config.apiUrl}/users/${id}`, requestOptions).then(handleResponse);\n}\n","import { authenticationService } from '../_services';\n\nexport function authHeader() {\n    // return authorization header with jwt token\n    const currentUser = authenticationService.currentUserValue;\n    if (currentUser && currentUser.token) {\n        return { Authorization: `Bearer ${currentUser.token}` };\n    } else {\n        return {};\n    }\n}\n","import { authenticationService } from '../_services';\n\nexport function handleResponse(response) {\n    return response.text().then(text => {\n        const data = text && JSON.parse(text);\n        if (!response.ok) {\n            if ([401, 403].indexOf(response.status) === -1) {\n            } else {\n                // auto logout if 401 Unauthorized or 403 Forbidden response returned from api\n                authenticationService.logout();\n            }\n\n            const error = (data && data.message) || response.statusText;\n            return Promise.reject(error);\n        }\n\n        return data;\n    });\n}\n","import { createBrowserHistory } from 'history';\n\nexport const history = createBrowserHistory();","export const Role = {\n    Admin: 'Admin',\n    User: 'User'    \n}","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nimport { authenticationService } from '../_services';\r\n\r\nexport const PrivateRoute = ({ component: Component, roles, ...rest }) => (\r\n    <Route {...rest} render={props => {\r\n        const currentUser = authenticationService.currentUserValue;\r\n        if (!currentUser) {\r\n            // not logged in so redirect to login page with the return url\r\n            return <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\r\n        }\r\n\r\n        // check if route is restricted by role\r\n        if (roles && roles.indexOf(currentUser.role) === -1) {\r\n            // role not authorised so redirect to home page\r\n            return <Redirect to={{ pathname: '/'}} />\r\n        }\r\n\r\n        // authorised so return component\r\n        return <Component {...props} />\r\n    }} />\r\n)\r\n","import React from 'react';\n\nimport { userService, authenticationService } from '../_services';\n\nclass HomePage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            currentUser: authenticationService.currentUserValue,\n            userFromApi: null\n        };\n    }\n\n    componentDidMount() {\n        const { currentUser } = this.state;\n        userService.getById(currentUser.id).then(userFromApi => this.setState({ userFromApi }));\n    }\n\n    render() {\n        const { currentUser, userFromApi } = this.state;\n        return (\n            <div>\n                <h1>Home</h1>\n                <p>You're logged in with React & JWT!!</p>\n                <p>Your role is: <strong>{currentUser.role}</strong>.</p>\n                <p>This page can be accessed by all authenticated users.</p>\n                <div>\n                    Current user from secure api end point:\n                    {userFromApi &&\n                        <ul>\n                            <li>{userFromApi.firstName} {userFromApi.lastName}</li>\n                        </ul>\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nexport { HomePage };\n","import React from 'react';\n\nimport { userService } from '../_services';\n\nclass AdminPage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            users: null\n        };\n    }\n\n    componentDidMount() {\n        userService.getAll().then(users => this.setState({ users }));\n    }\n\n    render() {\n        const { users } = this.state;\n        return (\n            <div>\n                <h1>Admin</h1>\n                <p>This page can only be accessed by administrators.</p>\n                <div>\n                    All users from secure (admin only) api end point:\n                    {users &&\n                        <ul>\n                            {users.map(user =>\n                                <li key={user.id}>{user.firstName} {user.lastName}</li>\n                            )}\n                        </ul>\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nexport { AdminPage };\n","import React from 'react';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\n\nimport { authenticationService } from '../_services';\n\nclass LoginPage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        // redirect to home if already logged in\n        if (authenticationService.currentUserValue) {\n            this.props.history.push('/');\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"alert alert-info\">\n                    <strong>Normal User</strong> - U: user P: user<br />\n                    <strong>Administrator</strong> - U: admin P: admin\n                </div>\n                <h2>Login</h2>\n                <Formik\n                    initialValues={{\n                        username: '',\n                        password: ''\n                    }}\n                    validationSchema={Yup.object().shape({\n                        username: Yup.string().required('Username is required'),\n                        password: Yup.string().required('Password is required')\n                    })}\n                    onSubmit={({ username, password }, { setStatus, setSubmitting }) => {\n                        setStatus();\n                        authenticationService.login(username, password)\n                            .then(\n                                user => {\n                                    const { from } = this.props.location.state || { from: { pathname: \"/\" } };\n                                    this.props.history.push(from);\n                                },\n                                error => {\n                                    setSubmitting(false);\n                                    setStatus(error);\n                                }\n                            );\n                    }}\n                    render={({ errors, status, touched, isSubmitting }) => (\n                        <Form>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"username\">Username</label>\n                                <Field name=\"username\" type=\"text\" className={'form-control' + (errors.username && touched.username ? ' is-invalid' : '')} />\n                                <ErrorMessage name=\"username\" component=\"div\" className=\"invalid-feedback\" />\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"password\">Password</label>\n                                <Field name=\"password\" type=\"password\" className={'form-control' + (errors.password && touched.password ? ' is-invalid' : '')} />\n                                <ErrorMessage name=\"password\" component=\"div\" className=\"invalid-feedback\" />\n                            </div>\n                            <div className=\"form-group\">\n                                <button type=\"submit\" className=\"btn btn-primary\" disabled={isSubmitting}>Login</button>\n                                {isSubmitting &&\n                                    <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                                }\n                            </div>\n                            {status &&\n                                <div className={'alert alert-danger'}>{status}</div>\n                            }\n                        </Form>\n                    )}\n                />\n            </div>\n        )\n    }\n}\n\nexport { LoginPage };\n","import React from 'react';\nimport { Router, Route, Link } from 'react-router-dom';\n\nimport { history, Role } from '../_helpers';\nimport { authenticationService } from '../_services';\nimport { PrivateRoute } from '../_components';\nimport { HomePage } from '../HomePage';\nimport { AdminPage } from '../AdminPage';\nimport { LoginPage } from '../LoginPage';\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            currentUser: null,\n            isAdmin: false\n        };\n    }\n\n    componentDidMount() {\n        authenticationService.currentUser.subscribe(x => this.setState({\n            currentUser: x,\n            isAdmin: x && x.role === Role.Admin\n        }));\n    }\n\n    logout() {\n        authenticationService.logout();\n        history.push('/login');\n    }\n\n    render() {\n        const { currentUser, isAdmin } = this.state;\n        return (\n            <Router history={history}>\n                <div>\n                    {currentUser &&\n                        <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n                            <div className=\"navbar-nav\">\n                                <Link to=\"/\" className=\"nav-item nav-link\">Home</Link>\n                                {isAdmin && <Link to=\"/admin\" className=\"nav-item nav-link\">Admin</Link>}\n                                <a onClick={this.logout} className=\"nav-item nav-link\">Logout</a>\n                            </div>\n                        </nav>\n                    }\n                    <div className=\"jumbotron\">\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div className=\"col-md-6 offset-md-3\">\n                                    <PrivateRoute exact path=\"/\" component={HomePage} />\n                                    <PrivateRoute path=\"/admin\" roles={[Role.Admin]} component={AdminPage} />\n                                    <Route path=\"/login\" component={LoginPage} />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </Router>\n        );\n    }\n}\n\nexport { App };\n","import { Role } from './'\n\nexport function configureFakeBackend() {\n    let users = [\n        { id: 1, username: 'admin', password: 'admin', firstName: 'Admin', lastName: 'User', role: Role.Admin },\n        { id: 2, username: 'user', password: 'user', firstName: 'Normal', lastName: 'User', role: Role.User }\n    ];\n    let realFetch = window.fetch;\n    window.fetch = function (url, opts) {\n        const authHeader = opts.headers['Authorization'];\n        const isLoggedIn = authHeader && authHeader.startsWith('Bearer fake-jwt-token');\n        const roleString = isLoggedIn && authHeader.split('.')[1];\n        const role = roleString ? Role[roleString] : null;\n\n        return new Promise((resolve, reject) => {\n            // wrap in timeout to simulate server api call\n            setTimeout(() => {\n                // authenticate - public\n                if (url.endsWith('/users/authenticate') && opts.method === 'POST') {\n                    const params = JSON.parse(opts.body);\n                    const user = users.find(x => x.username === params.username && x.password === params.password);\n                    if (!user) return error('Username or password is incorrect');\n                    return ok({\n                        id: user.id,\n                        username: user.username,\n                        firstName: user.firstName,\n                        lastName: user.lastName,\n                        role: user.role,\n                        token: `fake-jwt-token.${user.role}`\n                    });\n                }\n\n                // get user by id - admin or user (user can only access their own record)\n                if (url.match(/\\/users\\/\\d+$/) && opts.method === 'GET') {\n                    if (!isLoggedIn) return unauthorised();\n\n                    // get id from request url\n                    let urlParts = url.split('/');\n                    let id = parseInt(urlParts[urlParts.length - 1]);\n\n                    // only allow normal users access to their own record\n                    const currentUser = users.find(x => x.role === role);\n                    if (id !== currentUser.id && role !== Role.Admin) return unauthorised();\n\n                    const user = users.find(x => x.id === id);\n                    return ok(user);\n                }\n\n                // get all users - admin only\n                if (url.endsWith('/users') && opts.method === 'GET') {\n                    if (role !== Role.Admin) return unauthorised();\n                    return ok(users);\n                }\n\n                // pass through any requests not handled above\n                realFetch(url, opts).then(response => resolve(response));\n\n                // private helper functions\n\n                function ok(body) {\n                    resolve({ ok: true, text: () => Promise.resolve(JSON.stringify(body)) })\n                }\n\n                function unauthorised() {\n                    resolve({ status: 401, text: () => Promise.resolve(JSON.stringify({ message: 'Unauthorised' })) })\n                }\n\n                function error(message) {\n                    resolve({ status: 400, text: () => Promise.resolve(JSON.stringify({ message })) })\n                }\n            }, 500);\n        });\n    }\n}","import React from 'react';\nimport { render } from 'react-dom';\n\nimport { App } from './App';\n\n// setup fake backend\nimport { configureFakeBackend } from './_helpers';\nconfigureFakeBackend();\n\nrender(\n    <App />,\n    document.getElementById('app')\n);","var map = {\n\t\"./NodeChunkTemplatePlugin\": 201,\n\t\"./NodeChunkTemplatePlugin.js\": 201,\n\t\"./NodeEnvironmentPlugin\": 304,\n\t\"./NodeEnvironmentPlugin.js\": 304,\n\t\"./NodeHotUpdateChunkTemplatePlugin\": 246,\n\t\"./NodeHotUpdateChunkTemplatePlugin.js\": 246,\n\t\"./NodeMainTemplate.runtime\": 200,\n\t\"./NodeMainTemplate.runtime.js\": 200,\n\t\"./NodeMainTemplateAsync.runtime\": 199,\n\t\"./NodeMainTemplateAsync.runtime.js\": 199,\n\t\"./NodeMainTemplatePlugin\": 194,\n\t\"./NodeMainTemplatePlugin.js\": 194,\n\t\"./NodeOutputFileSystem\": 245,\n\t\"./NodeOutputFileSystem.js\": 245,\n\t\"./NodeSourcePlugin\": 446,\n\t\"./NodeSourcePlugin.js\": 446,\n\t\"./NodeTargetPlugin\": 250,\n\t\"./NodeTargetPlugin.js\": 250,\n\t\"./NodeTemplatePlugin\": 193,\n\t\"./NodeTemplatePlugin.js\": 193,\n\t\"./NodeWatchFileSystem\": 202,\n\t\"./NodeWatchFileSystem.js\": 202,\n\t\"./ReadFileCompileWasmTemplatePlugin\": 464,\n\t\"./ReadFileCompileWasmTemplatePlugin.js\": 464\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 303;","var map = {\n\t\"./build\": 366,\n\t\"./build.js\": 366,\n\t\"./clean\": 367,\n\t\"./clean.js\": 367,\n\t\"./configure\": 219,\n\t\"./configure.js\": 219,\n\t\"./info\": 368,\n\t\"./info.js\": 368,\n\t\"./install\": 389,\n\t\"./install.js\": 389,\n\t\"./node-pre-gyp\": 212,\n\t\"./node-pre-gyp.js\": 212,\n\t\"./package\": 438,\n\t\"./package.js\": 438,\n\t\"./pre-binding\": 217,\n\t\"./pre-binding.js\": 217,\n\t\"./publish\": 439,\n\t\"./publish.js\": 439,\n\t\"./rebuild\": 440,\n\t\"./rebuild.js\": 440,\n\t\"./reinstall\": 441,\n\t\"./reinstall.js\": 441,\n\t\"./reveal\": 442,\n\t\"./reveal.js\": 442,\n\t\"./testbinary\": 244,\n\t\"./testbinary.js\": 244,\n\t\"./testpackage\": 443,\n\t\"./testpackage.js\": 443,\n\t\"./unpublish\": 444,\n\t\"./unpublish.js\": 444,\n\t\"./util/abi_crosswalk\": 218,\n\t\"./util/abi_crosswalk.json\": 218,\n\t\"./util/compile\": 151,\n\t\"./util/compile.js\": 151,\n\t\"./util/handle_gyp_opts\": 152,\n\t\"./util/handle_gyp_opts.js\": 152,\n\t\"./util/napi\": 26,\n\t\"./util/napi.js\": 26,\n\t\"./util/nw-pre-gyp/index.html\": 1302,\n\t\"./util/nw-pre-gyp/package\": 445,\n\t\"./util/nw-pre-gyp/package.json\": 445,\n\t\"./util/s3_setup\": 112,\n\t\"./util/s3_setup.js\": 112,\n\t\"./util/versioning\": 37,\n\t\"./util/versioning.js\": 37\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 365;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 796;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 797;"],"sourceRoot":""}